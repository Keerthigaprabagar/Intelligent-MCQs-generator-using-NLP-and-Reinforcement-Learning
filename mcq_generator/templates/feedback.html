<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Feedback</title>
  <link rel="stylesheet" href="/static/styles.css">
  <style>
    .video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .content {
      position: relative;
      z-index: 1;
      background-color: rgba(37, 35, 35, 0.8);
      padding: 20px;
      border-radius: 10px;
      max-width: 800px;
      margin: 50px auto;
      color: white;
    }

    body {
      position: relative;
      z-index: 1;
      text-align: center;
    }

    h1, p, a, h2, div {
      position: relative;
      z-index: 2;
    }

    .feedback-form {
      margin-top: 20px;
    }

    .feedback-form label {
      display: block;
      margin: 10px 0;
    }

    .feedback-form button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .feedback-form button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1>Feedback</h1>
    <p>Your Score: {{ score if score is defined else "Not Available" }} / {{ total if total is defined else "Not Available" }}</p>
    <a href="/logout">Logout</a>

    {% for mcq in mcqs %}
    <div>
      <p><strong>{{ loop.index }}. {{ mcq['question'] }}</strong></p>
      <p>Correct Answer: {{ mcq['options'][mcq['correctOption']] }}</p>
      <p>Your Answer: {{ mcq['options'][answers.get('answer_' ~ loop.index0, -1)] if answers.get('answer_' ~ loop.index0, -1) != -1 else "Not answered" }}</p>
    </div>
    <hr>
    {% endfor %}

    <!-- Feedback Form -->
    <div class="feedback-form">
      <h2>How would you rate the difficulty of the questions?</h2>
      <form action="/submit_feedback" method="POST">
        <label>
          <input type="radio" name="difficulty_feedback" value="easy" required> Easy
        </label>
        <label>
          <input type="radio" name="difficulty_feedback" value="moderate" required> Moderate
        </label>
        <label>
          <input type="radio" name="difficulty_feedback" value="difficult" required> Difficult
        </label>
        <button type="submit">Submit Feedback</button>
      </form>
    </div>
  </div>

  <video class="video-background" autoplay muted loop>
    <source src="/static/background.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</body>
</html>